<!doctype html>
<html lang="en">
<head>
  <%- include('../layouts/header'); %>
  <title>Contact Me</title>
</head>
<body class="d-flex flex-column min-vh-100">
  <%- include('../layouts/nav'); %>

  <main class="flex-grow-1">
    <section class="container py-5">
      <h1 class="display-5 fw-bold text-dark mb-4">Get in Touch</h1>

      <!-- Social Links -->
      <div class="mb-4">
        <a href="https://www.linkedin.com/in/aaliyah-h%C3%A4nni/" target="_blank" rel="noopener noreferrer"
           class="btn btn-outline-primary me-2">
          <i class="fab fa-linkedin me-1"></i> LinkedIn
        </a>
        <a href="https://github.com/aaliyahfiala42" target="_blank" rel="noopener noreferrer"
           class="btn btn-outline-dark">
          <i class="fab fa-github me-1"></i> GitHub
        </a>
      </div>

      <!-- Contact Info -->
      <p class="mb-2"><strong>Aaliyah HÃ¤nni</strong></p>
      <p>
        <a href="mailto:aaliyahhanni@gmail.com" class="text-decoration-none text-dark me-2">
          <i class="fas fa-envelope me-1"></i> aaliyahhanni@gmail.com
        </a>
        <a href="tel:+41763979412" class="text-decoration-none text-dark me-2">
          <i class="fas fa-phone me-1"></i> +41 76 397 94 12
        </a>
        <i class="fas fa-map-marker-alt me-1"></i> Bern, Switzerland
      </p>
    </section>

    <!-- Optional Logo Section -->
    <section class="text-center py-4">
      <img src="Logo.png" alt="Logo" height="150">
    </section>
  </main>

  <%- include('../layouts/footer'); %>
</body>
</html>

<script>
  document.getElementById("contactForm").addEventListener("submit", async function (event) {
    event.preventDefault();

    const formData = new FormData(this);
    const formObject = Object.fromEntries(formData.entries());

    try {
      const response = await fetch("/send-email", {
          method: "POST",
          headers: { "Content-Type": "application/json" }, 
          body: JSON.stringify(formObject)
      });

      if (!response.ok) {
          const errorText = await response.text();
          throw new Error(`Server error: ${errorText}`);
      }

      const result = await response.json();
      alert(result.message);
  } catch (error) {
      console.error("Fetch error:", error);
      alert("An error occurred. Check the console for details.");
  }
});

</script>